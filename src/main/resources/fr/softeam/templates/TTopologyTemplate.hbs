{{#unless (noStereotypeApplications this "Metadata")}}metadata:{{/unless}}
{{#ownedAttribute as |metadata|}}{{#extension as |extension|}}{{#eq extension.name "Metadata"}}
    {{metadata.name}}: "{{metadata.value}}"
{{/eq}}{{/extension}}{{/ownedAttribute}}
{{imports this}}
topology_template:
{{#unless (noStereotypeApplications this "InputParametersType")}}
  inputs:
  {{#ownedElement}}{{#extension}}{{#eq name "InputParametersType"}}
    {{#ownedAttribute as |parameter|}}{{#extension as |extension|}}{{#eq extension.name "TParameter"}}
      {{> TParameter parameter}}
    {{/eq}}{{/extension}}{{/ownedAttribute}}
  {{/eq}}{{/extension}}{{/ownedElement}}
{{/unless}}
{{#unless (noStereotypeApplications this "TNodeTemplate")}}
  node_templates:
  {{#ownedElement as | nodeTemplate |}}{{#extension as |extension|}}{{#eq extension.name "TNodeTemplate"}}
    {{> TNodeTemplate nodeTemplate}}
  {{/eq}}{{/extension}}{{/ownedElement}}
{{/unless}}
{{#unless (noStereotypeApplications this "TGroup")}}
  groups:
  {{#ownedElement as |group|}}{{#extension as |extension|}}{{#eq extension.name "TGroup"}}
    {{> TGroup group}}
  {{/eq}}{{/extension}}{{/ownedElement}}
{{/unless}}
{{#unless (noStereotypeApplications this "TRelationshipTemplateEnd")}}
  relationship_templates:
  {{#ownedElement}}{{#targetingEnd}}{{#association as |association|}}{{#extension as |extension|}}{{#eq extension.name "TRelationshipTemplate"}}
    {{association.name}}:
      type: {{getProperty association "type"}}
  {{/eq}}{{/extension}}{{/association}}{{/targetingEnd}}{{/ownedElement}}
{{/unless}}
{{#unless (noStereotypeApplications this "PoliciesType")}}
  policies:
  {{#ownedElement}}{{#extension}}{{#eq name "PoliciesType"}}
    {{#ownedElement as |policy|}}{{#extension as |extension|}}{{#eq extension.name "TPolicy"}}
      {{> TPolicy policy}}
    {{/eq}}{{/extension}}{{/ownedElement}}
  {{/eq}}{{/extension}}{{/ownedElement}}
{{/unless}}